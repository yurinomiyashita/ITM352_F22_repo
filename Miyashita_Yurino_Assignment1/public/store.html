<!--created by Yurino Miyashhita-->
<!DOCTYPE html>
<html lang="en">

<!-- load products data -->

<script src="./products.json" type="text/javascript"> </script>


<script>
	// Derived from Example Assignment 1
  //display error function from server.js
	        let params = (new URL(document.location)).searchParams;
	        window.onload = function () {
	            
	        if (params.has('errors')) {
	            var errors = JSON.parse(params.get('errors'));
	            let err_str = '';
	            for (err in errors) {
	                err_str += errors[err] + '\n';
	            }
	            alert(err_str);
	          }
	        }
    </script>


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunday Bookstore</title>
    <link href="./css/products-style.css" type="text/css" rel="stylesheet">
    <link href="images/" rel="images">
    
   <style>
    .w3-bar-block .w3-bar-item {padding:20px}
    </style>
</head>
<body> 
    <header>
        <!-- Page Header-->
	     <div class="jumbotron">
        <div class="container text-center">
        <hr>
          <h1><center>Sunday Bookstore</center></h1>   
        <hr>   
          <p><strong><center>Welcome to Sunday's Bookstore. Currently, we have 6 books on sell</center></strong></p>
        </div>
      </div>

      <!-- Navigation Bar -->
      <nav>
          <div class="menu">
            <ul class="menu-list">
              <li class="menu-list-item"><a href="./index.html">Home</a></li>  <!--connect index.html-->
              <li class="menu-list-item" class="active"><a href="#">Products</a></li>
            </ul>
          </div>
        </div>
      </nav>

    </header>
    <form action="./purchase" method="POST">
    <script>
        // Print items on page
        //based on store 1 WODs product_display.html 
        for(i = 0; i < products.length; i++) {
            document.write(`
            <div class="content">
              <div class="card-list">  <center>
                <div style="max-width:1200px;margin-top:100px"> </div>
                <div class="Image"><div class="overlay"> <img src="${products[i].image}" class="img-responsive" style="width:50%" alt="Image"></div></div>
                <div class="card-listTitle">${products[i].name}</div> by <div class="panel-heading">${products[i].author}</div> 
                <div class="card-listText">${products[i].description}</div>
              
                <div class="card-listText">
                  <label id = "quantity${i}_label"> Enter Quantity Desired: </label>
                  <div class="input"><input type = "text"  placeholder = "Quantity Available: ${products[i].quantity_available}" name = "quantity[${i}]" onekeyup="checkQuantityTextbox(this);"></div>
                </div>
            
              </div>
            </div>
            </center>
            `);
        }
    </script>
</body>
<br>
<br>

<footer>
    <div class="label"></div>
       <center> 
           <input type="submit" value ="purchase" name="purchase_submit" onlick=""></center> 
        </form>
    </div>

</footer>
</html>